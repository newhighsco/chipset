@use 'true' as *;
@use '../hidpi' as *;

@include test-module('hidpi()') {
  @include test('should default to a ratio of 1.3') {
    @include assert {
      @include output {
        @include hidpi {
          .element-1 {
            color: #000;
          }
        }

        .element-2 {
          @include hidpi {
            color: #000;
          }
        }
      }

      @include expect {
        @media (min-resolution: 124dpi) {
          .element-1 {
            color: #000;
          }
        }

        @media (min-resolution: 124dpi) {
          .element-2 {
            color: #000;
          }
        }
      }
    }
  }

  @include test('should accept a custom ratio') {
    @include assert {
      @include output {
        .element {
          @include hidpi(2) {
            color: #000;
          }
        }
      }

      @include expect {
        @media (min-resolution: 192dpi) {
          .element {
            color: #000;
          }
        }
      }
    }
  }
}
